
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ramtools package &#8212; ramtools 0.3 documentation</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="_static/pydoctheme.css?2021.11.1" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /><link rel="shortcut icon" type="image/png" href="_static/py.svg" />
            <script type="text/javascript" src="_static/copybutton.js"></script>
            <script type="text/javascript" src="_static/menu.js"></script> 
  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://www.python.org/" class="nav-logo">
             <img src="_static/py.svg" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form role="search" class="search" action="search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="Quick search"/>
            <input type="submit" value="Go"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ramtools package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-ramtools.amr2cube">ramtools.amr2cube module</a></li>
<li><a class="reference internal" href="#module-ramtools.cacherun">ramtools.cacherun module</a></li>
<li><a class="reference internal" href="#module-ramtools.cacherun_v1">ramtools.cacherun_v1 module</a></li>
<li><a class="reference internal" href="#module-ramtools.cacherunbase">ramtools.cacherunbase module</a></li>
<li><a class="reference internal" href="#module-ramtools.center">ramtools.center module</a></li>
<li><a class="reference internal" href="#module-ramtools.center2">ramtools.center2 module</a></li>
<li><a class="reference internal" href="#module-ramtools.cloudparams">ramtools.cloudparams module</a></li>
<li><a class="reference internal" href="#ramtools-cloudvals-module">ramtools.cloudvals module</a></li>
<li><a class="reference internal" href="#module-ramtools.dynamics">ramtools.dynamics module</a></li>
<li><a class="reference internal" href="#module-ramtools.imf">ramtools.imf module</a></li>
<li><a class="reference internal" href="#module-ramtools.luminosity">ramtools.luminosity module</a></li>
<li><a class="reference internal" href="#module-ramtools.plotutils">ramtools.plotutils module</a></li>
<li><a class="reference internal" href="#module-ramtools.radiation_module">ramtools.radiation_module module</a></li>
<li><a class="reference internal" href="#module-ramtools.ramplot">ramtools.ramplot module</a></li>
<li><a class="reference internal" href="#module-ramtools.ramses">ramtools.ramses module</a></li>
<li><a class="reference internal" href="#id1">ramtools.ramses module</a></li>
<li><a class="reference internal" href="#module-ramtools.ramsesbase">ramtools.ramsesbase module</a></li>
<li><a class="reference internal" href="#module-ramtools.to_skirt">ramtools.to_skirt module</a></li>
<li><a class="reference internal" href="#module-ramtools.units">ramtools.units module</a></li>
<li><a class="reference internal" href="#module-ramtools.utilities">ramtools.utilities module</a></li>
<li><a class="reference internal" href="#module-ramtools.yt_field_descrs">ramtools.yt_field_descrs module</a></li>
<li><a class="reference internal" href="#module-ramtools.ytfast">ramtools.ytfast module</a></li>
<li><a class="reference internal" href="#module-ramtools">Module contents</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ramtools.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </nav>
    </div>
</div>
  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
          <li><img src="_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
              <a href="index.html">ramtools 0.3 documentation</a> &#187;
              
          </li>
        <li class="nav-item nav-item-this"><a href="">ramtools package</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="search.html" method="get">
          <input placeholder="Quick search" aria-label="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ramtools-package">
<h1>ramtools package<a class="headerlink" href="#ramtools-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ramtools.amr2cube">
<span id="ramtools-amr2cube-module"></span><h2>ramtools.amr2cube module<a class="headerlink" href="#module-ramtools.amr2cube" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="ramtools.amr2cube.amr2cube">
<code class="sig-prename descclassname">ramtools.amr2cube.</code><code class="sig-name descname">amr2cube</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">diri</span></em>, <em class="sig-param"><span class="n">center</span></em>, <em class="sig-param"><span class="n">width</span></em>, <em class="sig-param"><span class="n">lma</span></em>, <em class="sig-param"><span class="n">fo_fmt</span><span class="o">=</span><span class="default_value">'amr2cube/{field}.dat'</span></em>, <em class="sig-param"><span class="n">fields</span><span class="o">=</span><span class="default_value">['den', 'xHII']</span></em>, <em class="sig-param"><span class="n">is_redo</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.amr2cube.amr2cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Run amr2cube for a given output with given parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>diri</strong> – (str) input output directory</p></li>
<li><p><strong>diro</strong> – (str) output data directory</p></li>
<li><p><strong>center</strong> – (str or list_like) the domain center, in boxlen unit. ‘c’
means (.5, .5, .5)</p></li>
<li><p><strong>width</strong> – (float) domain width in boxlen unit</p></li>
<li><p><strong>lma</strong> – (int) max level</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

</div>
<div class="section" id="module-ramtools.cacherun">
<span id="ramtools-cacherun-module"></span><h2>ramtools.cacherun module<a class="headerlink" href="#module-ramtools.cacherun" title="Permalink to this headline">¶</a></h2>
<p>Run YT functions with cache support so that when a function is run a second
time, a cache from the first run is used to return the results immediately.</p>
<p>Adapted from Sam Geen’s HamuLite.py which describes as ‘MODIFIED FROM
Algorithm.py IN HAMU TO WORK INDEPENDENTLY OF THE HAMU FRAMEWORK’</p>
<p>Original script:
<a class="reference external" href="https://github.com/samgeen/mcrtscripts/blob/master/scripts/HamuLite.py">https://github.com/samgeen/mcrtscripts/blob/master/scripts/HamuLite.py</a></p>
<dl class="py class">
<dt id="ramtools.cacherun.CacheFile">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.cacherun.</code><code class="sig-name descname">CacheFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds</span></em>, <em class="sig-param"><span class="n">algorithm</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun.CacheFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="ramtools.cacherun.CacheFile.Exists">
<code class="sig-name descname">Exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun.CacheFile.Exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the cache file exist?</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.cacherun.CacheFile.Load">
<code class="sig-name descname">Load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun.CacheFile.Load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.cacherun.CacheFile.Save">
<code class="sig-name descname">Save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun.CacheFile.Save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ramtools.cacherun.CacheRun">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.cacherun.</code><code class="sig-name descname">CacheRun</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">function</span></em>, <em class="sig-param"><span class="n">force_replace_cache</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun.CacheRun" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A wrapper class around a function that enables us to run functions and store their outputs for later use</p>
<p>Usage (new):
&gt;&gt;&gt; def get_max_pos(ds, field):
&gt;&gt;&gt;     return ds.all_data().argmax(field)
&gt;&gt;&gt; CacheRun(get_max_pos)(ds, (‘gas’, ‘density’))</p>
<p>Usage (old):
&gt;&gt;&gt; ds = RamsesSnapshot(“tests/Job2”, 40)
&gt;&gt;&gt; def get_max_pos(ds, field):
&gt;&gt;&gt;     return ds.all_data().argmax(field)
&gt;&gt;&gt; CacheRun(get_max_pos)(ds, (‘gas’, ‘density’))</p>
<dl class="py method">
<dt id="ramtools.cacherun.CacheRun.CacheFilename">
<code class="sig-name descname">CacheFilename</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ext</span><span class="o">=</span><span class="default_value">'data'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun.CacheRun.CacheFilename" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of this algorithm’s cache file
Uses a hash function to hash the arguments of the function
ext - File extension (used for writing multiple cache files; default is “.data”)</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.cacherun.CacheRun.ForceReplaceCache">
<code class="sig-name descname">ForceReplaceCache</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">on</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun.CacheRun.ForceReplaceCache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.cacherun.CacheRun.FunctionName">
<code class="sig-name descname">FunctionName</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun.CacheRun.FunctionName" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the function’s name</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.cacherun.CacheRun.Run">
<code class="sig-name descname">Run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun.CacheRun.Run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run for a single snapshot</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ramtools.cacherun.get_jobdir_and_out_from_ds">
<code class="sig-prename descclassname">ramtools.cacherun.</code><code class="sig-name descname">get_jobdir_and_out_from_ds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun.get_jobdir_and_out_from_ds" title="Permalink to this definition">¶</a></dt>
<dd><p>Given ds, which has ds.directory = ‘/path/Job1/output_00002’, return
/path/Job1 and output_00002</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.cacherun.turn_off_logging">
<code class="sig-prename descclassname">ramtools.cacherun.</code><code class="sig-name descname">turn_off_logging</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun.turn_off_logging" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.cacherun.turn_on_global_force_replace_cache">
<code class="sig-prename descclassname">ramtools.cacherun.</code><code class="sig-name descname">turn_on_global_force_replace_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun.turn_on_global_force_replace_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ramtools.cacherun_v1">
<span id="ramtools-cacherun-v1-module"></span><h2>ramtools.cacherun_v1 module<a class="headerlink" href="#module-ramtools.cacherun_v1" title="Permalink to this headline">¶</a></h2>
<p>Run YT functions with cache support so that when a function is run a second
time, a cache from the first run is used to return the results immediately.</p>
<p>Adapted from Sam Geen’s HamuLite.py which describes as ‘MODIFIED FROM
Algorithm.py IN HAMU TO WORK INDEPENDENTLY OF THE HAMU FRAMEWORK’</p>
<p>Original script:
<a class="reference external" href="https://github.com/samgeen/mcrtscripts/blob/master/scripts/HamuLite.py">https://github.com/samgeen/mcrtscripts/blob/master/scripts/HamuLite.py</a></p>
<dl class="py class">
<dt id="ramtools.cacherun_v1.CacheFile">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.cacherun_v1.</code><code class="sig-name descname">CacheFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">snapshot</span></em>, <em class="sig-param"><span class="n">algorithm</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun_v1.CacheFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="ramtools.cacherun_v1.CacheFile.Exists">
<code class="sig-name descname">Exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun_v1.CacheFile.Exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the cache file exist?</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.cacherun_v1.CacheFile.Load">
<code class="sig-name descname">Load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun_v1.CacheFile.Load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.cacherun_v1.CacheFile.Save">
<code class="sig-name descname">Save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun_v1.CacheFile.Save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ramtools.cacherun_v1.CacheRun">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.cacherun_v1.</code><code class="sig-name descname">CacheRun</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">function</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun_v1.CacheRun" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A wrapper class around a function that enables us to run functions and store their outputs for later use</p>
<p>Usage:
&gt;&gt;&gt; ds = RamsesSnapshot(“tests/Job2”, 40)
&gt;&gt;&gt; def get_max_pos(ds, field):
&gt;&gt;&gt;     return ds.all_data().argmax(field)
&gt;&gt;&gt; CacheRun(get_max_pos)(ds, (‘gas’, ‘density’))</p>
<dl class="py method">
<dt id="ramtools.cacherun_v1.CacheRun.CacheFilename">
<code class="sig-name descname">CacheFilename</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ext</span><span class="o">=</span><span class="default_value">'data'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun_v1.CacheRun.CacheFilename" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of this algorithm’s cache file
Uses a hash function to hash the arguments of the function
ext - File extension (used for writing multiple cache files; default is “.data”)</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.cacherun_v1.CacheRun.Cached">
<code class="sig-name descname">Cached</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">snap</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun_v1.CacheRun.Cached" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the cache for this data exists</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.cacherun_v1.CacheRun.ForceReplaceCache">
<code class="sig-name descname">ForceReplaceCache</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">on</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun_v1.CacheRun.ForceReplaceCache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.cacherun_v1.CacheRun.FunctionName">
<code class="sig-name descname">FunctionName</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun_v1.CacheRun.FunctionName" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the function’s name</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.cacherun_v1.CacheRun.Run">
<code class="sig-name descname">Run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">snap</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun_v1.CacheRun.Run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run for a single snapshot</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ramtools.cacherun_v1.RamsesSnapshot">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.cacherun_v1.</code><code class="sig-name descname">RamsesSnapshot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">folder</span></em>, <em class="sig-param"><span class="n">outnum</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun_v1.RamsesSnapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="ramtools.cacherun_v1.RamsesSnapshot.CachePath">
<code class="sig-name descname">CachePath</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun_v1.RamsesSnapshot.CachePath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ramtools.cacherun_v1.turn_on_global_force_replace_cache">
<code class="sig-prename descclassname">ramtools.cacherun_v1.</code><code class="sig-name descname">turn_on_global_force_replace_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherun_v1.turn_on_global_force_replace_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ramtools.cacherunbase">
<span id="ramtools-cacherunbase-module"></span><h2>ramtools.cacherunbase module<a class="headerlink" href="#module-ramtools.cacherunbase" title="Permalink to this headline">¶</a></h2>
<p>A general protocal for storing function result in cache files</p>
<p>What is does: The first time you run CacheRun, the result is stored in a file using pickle and is named
after a unique hash string based on
(1) the path of the Python file you are running,
(2) the function name, and
(3) the parameters passed to the function.
The second time you run CacheRun with the same hash, the previously stored data is loaded and returned.</p>
<p>Example:
&gt;&gt;&gt; def func(x, y=1):
&gt;&gt;&gt;     return x + y
&gt;&gt;&gt; CacheRun(func, os.path.abspath(__file__))(10, y=2)
&gt;&gt;&gt; CacheRun(func, os.path.abspath(__file__))(10, y=2)</p>
<dl class="py class">
<dt id="ramtools.cacherunbase.CacheFile">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.cacherunbase.</code><code class="sig-name descname">CacheFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">folder</span></em>, <em class="sig-param"><span class="n">algorithm</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherunbase.CacheFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="ramtools.cacherunbase.CacheFile.Exists">
<code class="sig-name descname">Exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherunbase.CacheFile.Exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the cache file exist?</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.cacherunbase.CacheFile.Load">
<code class="sig-name descname">Load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherunbase.CacheFile.Load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.cacherunbase.CacheFile.Save">
<code class="sig-name descname">Save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherunbase.CacheFile.Save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ramtools.cacherunbase.CacheRun">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.cacherunbase.</code><code class="sig-name descname">CacheRun</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">function</span></em>, <em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">force_replace_cache</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">flag</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherunbase.CacheRun" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="ramtools.cacherunbase.CacheRun.CacheFilename">
<code class="sig-name descname">CacheFilename</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ext</span><span class="o">=</span><span class="default_value">'data'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherunbase.CacheRun.CacheFilename" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of this algorithm’s cache file
Uses a hash function to hash the arguments of the function
ext - File extension (used for writing multiple cache files; default is “.data”)</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.cacherunbase.CacheRun.ForceReplaceCache">
<code class="sig-name descname">ForceReplaceCache</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">on</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherunbase.CacheRun.ForceReplaceCache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.cacherunbase.CacheRun.Run">
<code class="sig-name descname">Run</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherunbase.CacheRun.Run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run for a single snapshot</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ramtools.cacherunbase.turn_on_global_force_replace_cache">
<code class="sig-prename descclassname">ramtools.cacherunbase.</code><code class="sig-name descname">turn_on_global_force_replace_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cacherunbase.turn_on_global_force_replace_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ramtools.center">
<span id="ramtools-center-module"></span><h2>ramtools.center module<a class="headerlink" href="#module-ramtools.center" title="Permalink to this headline">¶</a></h2>
<p>center.py
Define gloable variables for the RAMSES project.</p>
<p>Author: chongchonghe</p>
<dl class="py function">
<dt id="ramtools.center.get_density">
<code class="sig-prename descclassname">ramtools.center.</code><code class="sig-name descname">get_density</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.center.get_density" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.center.get_tff">
<code class="sig-prename descclassname">ramtools.center.</code><code class="sig-name descname">get_tff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.center.get_tff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ramtools.center2">
<span id="ramtools-center2-module"></span><h2>ramtools.center2 module<a class="headerlink" href="#module-ramtools.center2" title="Permalink to this headline">¶</a></h2>
<p>Use center.py. Jan 21, 2019
#Replacing center.py</p>
<p>&#64;author: chongchonghe</p>
</div>
<div class="section" id="module-ramtools.cloudparams">
<span id="ramtools-cloudparams-module"></span><h2>ramtools.cloudparams module<a class="headerlink" href="#module-ramtools.cloudparams" title="Permalink to this headline">¶</a></h2>
<p>Calculate some parameters of a cloud at given snapshot(s).</p>
<dl class="py function">
<dt id="ramtools.cloudparams.check_pot_ene">
<code class="sig-prename descclassname">ramtools.cloudparams.</code><code class="sig-name descname">check_pot_ene</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cloudparams.check_pot_ene" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.cloudparams.describe_cloud">
<code class="sig-prename descclassname">ramtools.cloudparams.</code><code class="sig-name descname">describe_cloud</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobfolder</span></em>, <em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">variables</span></em>, <em class="sig-param"><span class="n">filter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cloudparams.describe_cloud" title="Permalink to this definition">¶</a></dt>
<dd><p>Describe the parameters of a cloud at a given snapshot</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jobfolder</strong> – </p></li>
<li><p><strong>out</strong> – </p></li>
<li><p><strong>variables</strong> (<em>list of strings</em>) – a list of variables to calculate</p></li>
<li><p><strong>filter</strong> – gas region filter</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of all parameters</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.cloudparams.describe_cloud2">
<code class="sig-prename descclassname">ramtools.cloudparams.</code><code class="sig-name descname">describe_cloud2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobfolder</span></em>, <em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">variables</span></em>, <em class="sig-param"><span class="n">slicepath</span></em>, <em class="sig-param"><span class="n">fo</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cloudparams.describe_cloud2" title="Permalink to this definition">¶</a></dt>
<dd><p>Describe the parameters of a cloud at a given snapshot</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jobfolder</strong> – </p></li>
<li><p><strong>out</strong> – </p></li>
<li><p><strong>variables</strong> (<em>list of strings</em>) – a list of variables to calculate</p></li>
<li><p><strong>fo</strong> (<em>str</em>) – name of the output json file</p></li>
<li><p><strong>dataset</strong> – YT dataset, e.g. ds.all_data()</p></li>
<li><p><strong>filter</strong> – cut_region filter</p></li>
<li><p><strong>pot_ref</strong> – </p></li>
<li><p><strong>pot_test_width</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.cloudparams.get_cloud_value">
<code class="sig-prename descclassname">ramtools.cloudparams.</code><code class="sig-name descname">get_cloud_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds</span></em>, <em class="sig-param"><span class="n">var</span></em>, <em class="sig-param"><span class="n">dataset</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">filter</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pot_ref</span><span class="o">=</span><span class="default_value">'center'</span></em>, <em class="sig-param"><span class="n">pot_test_width</span><span class="o">=</span><span class="default_value">0.000244140625</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.cloudparams.get_cloud_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sum of a given quantity (e.g. the total mass.) over a region defined by filter of a given cloud (identified by ds).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> – yt.ds, instance of ds.load(…)</p></li>
<li><p><strong>var</strong> – the variable name, one of totmass, totvolume, kin_ene,
th_ene, mag_ene, pot_ene.</p></li>
<li><p><strong>dataset</strong> – (optional) the dataset, e.g. ds.sphere(…)</p></li>
<li><p><strong>filter</strong> – (string) filter to the dataset</p></li>
<li><p><strong>pot_ref</strong> – the reference point of calculating potential energy. Refer
to the code</p></li>
<li><p><strong>pot_test_width</strong> – Refer to the code.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>YT float.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="ramtools-cloudvals-module">
<h2>ramtools.cloudvals module<a class="headerlink" href="#ramtools-cloudvals-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ramtools.dynamics">
<span id="ramtools-dynamics-module"></span><h2>ramtools.dynamics module<a class="headerlink" href="#module-ramtools.dynamics" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="ramtools.dynamics.Dyn">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.dynamics.</code><code class="sig-name descname">Dyn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobdir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">jobid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ram_dir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fields</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.dynamics.Dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#id2" title="ramtools.ramses.Ramses"><code class="xref py py-class docutils literal notranslate"><span class="pre">ramtools.ramses.Ramses</span></code></a></p>
<dl class="py method">
<dt id="ramtools.dynamics.Dyn.read_sink_as_msun_au">
<code class="sig-name descname">read_sink_as_msun_au</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.dynamics.Dyn.read_sink_as_msun_au" title="Permalink to this definition">¶</a></dt>
<dd><p>Read sink_x.csv as the following unit system (and move to com):
[M] = 1 Msun
[L] = 1 AU
[T] = sqrt(AU**3*(1/(G*Msun))) = 5022642.892 s = 0.1591579490 yr
[V] = [L]/[T] = 29.78469183 km / s</p>
<p>time, id, mass, x, y, z, vx, vy, vz</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ramtools.imf">
<span id="ramtools-imf-module"></span><h2>ramtools.imf module<a class="headerlink" href="#module-ramtools.imf" title="Permalink to this headline">¶</a></h2>
<p>imf.py</p>
<p>Author: Chong-Chong He (<a class="reference external" href="mailto:che1234&#37;&#52;&#48;umd&#46;edu">che1234<span>&#64;</span>umd<span>&#46;</span>edu</a>)
Written on Sat,  4 Apr 2020.</p>
<dl class="py class">
<dt id="ramtools.imf.Sink">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">Sink</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobdir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">jobid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ram_dir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fields</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#id2" title="ramtools.ramses.Ramses"><code class="xref py py-class docutils literal notranslate"><span class="pre">ramtools.ramses.Ramses</span></code></a></p>
<p>Read sink info from outputs, make plots of SFE, sink number, and IMF</p>
<dl class="py method">
<dt id="ramtools.imf.Sink.MassFunc">
<code class="sig-name descname">MassFunc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bins</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">outputID</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tff</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_x_log_number</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">is_plot_kroupa</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">isFill</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">newsink</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plotstyle</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.MassFunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the mass function
kwargs could be: refPoint = [x_start, x_end], bin_max, bin_min,
nbins, xlim, ylim, (ALL IN DEX), isDisplayMSM(bool)</p>
<p>is_x_log_number: If True, plot x as x = log10(masses).</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.display_summary">
<code class="sig-name descname">display_summary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.display_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Summary of SFE</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.find_SF_length">
<code class="sig-name descname">find_SF_length</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sink_masses</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.find_SF_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.find_SNs">
<code class="sig-name descname">find_SNs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lastoutput</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mSN</span><span class="o">=</span><span class="default_value">8.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.find_SNs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the raw time (in Myr) of all SN explosions
!!! Apply to the version of RAMSES where all stars never die.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>time</strong> (<em>{list}, the time of all SNe explosions, not necessary on</em>)</p></li>
<li><p><em>output snapshots, before the lastoutput, when the first SN</em></p></li>
<li><p><em>explode</em></p></li>
<li><p><strong>i</strong> (<em>the outputID when the first SN explode</em>)</p></li>
<li><p><em>Exeptions</em></p></li>
<li><p><em>-1, 0</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.find_first_SN">
<code class="sig-name descname">find_first_SN</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mSN</span><span class="o">=</span><span class="default_value">8.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.find_first_SN" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>i</strong> (<em>the output of the first SN. If no SN found, return -1</em>)</p></li>
<li><p><strong>time</strong> (<em>the time (in Myr) of the first SN (not - tRelax)</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.imf_fit">
<code class="sig-name descname">imf_fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">outputID</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.imf_fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.imf_summary">
<code class="sig-name descname">imf_summary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">outputID</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pos</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.imf_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the mean sink mass at the top right corner</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.imf_summary_text">
<code class="sig-name descname">imf_summary_text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">outputID</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.imf_summary_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the texts of the mean sink mass</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.metal_yield">
<code class="sig-name descname">metal_yield</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">outputID</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.metal_yield" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.num_of_SN">
<code class="sig-name descname">num_of_SN</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">outputID</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.num_of_SN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.overplot_kroupa">
<code class="sig-name descname">overplot_kroupa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">m_sum</span></em>, <em class="sig-param"><span class="n">m_min</span><span class="o">=</span><span class="default_value">0.08</span></em>, <em class="sig-param"><span class="n">m_max</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">textxy</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ls</span><span class="o">=</span><span class="default_value">'--'</span></em>, <em class="sig-param"><span class="n">isxloged</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.overplot_kroupa" title="Permalink to this definition">¶</a></dt>
<dd><p>over plot a Kroupa IMF curve. parameters are in log scale
Normalized to total stellar mass</p>
<p class="rubric">Notes</p>
<p>self is useless. I put INTERP here for INTERP to be copied in the Sink class</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.plot_IMF">
<code class="sig-name descname">plot_IMF</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">out</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bins</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">is_over_dlogm</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.plot_IMF" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot MF of an output. Tag with time, out id, m_tot, and N</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>plot axis</em>) – description</p></li>
<li><p><strong>out</strong> (<em>int</em>) – output number. Default: self.get_last_output()</p></li>
<li><p><strong>bins</strong> (<em>str</em><em> or </em><em>list/array</em>) – description</p></li>
<li><p><strong>is_over_dlogm</strong> (<em>bool</em>) – False: y = dN. True: y = dN/dlogm</p></li>
<li><p><strong>kwargs</strong> – <cite>**kwargs</cite> for plot_imf()</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.plot_SFE">
<code class="sig-name descname">plot_SFE</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">yscale</span><span class="o">=</span><span class="default_value">'log'</span></em>, <em class="sig-param"><span class="n">ylim</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_disp_SN</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.plot_SFE" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a single SFE curve.</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.plot_SFE_and_MSM">
<code class="sig-name descname">plot_SFE_and_MSM</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">hold</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">isDisplayLegend</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.plot_SFE_and_MSM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.plot_imf_one_grid_single_line">
<code class="sig-name descname">plot_imf_one_grid_single_line</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">outputid</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'k'</span></em>, <em class="sig-param"><span class="n">ylim</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mass_shift</span><span class="o">=</span><span class="default_value">0.4</span></em>, <em class="sig-param"><span class="n">is_plot_kroupa</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">is_title</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">is_text</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">is_met</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">is_text_cloud_param</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.plot_imf_one_grid_single_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot one single line of the IMF.</p>
<p>Plot one single line of the IMF., optionally add a Kroupa line,
set title, and add text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>is_text</strong> (<em>bool</em>) – Control if or not to add texts at topleft (gas mass and den) and topright corner.</p></li>
<li><p><strong>is_met</strong> (<em>bool</em>) – Only when is_text = True. Control if or not only add text at topright corner.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.quick_plot_IMF">
<code class="sig-name descname">quick_plot_IMF</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">out</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">masses</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bin_width</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bins</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_over_dlogm</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">shift</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_kroupa</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">kroupa_kwargs</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.quick_plot_IMF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.imf.Sink.sfe_time_length">
<code class="sig-name descname">sfe_time_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.Sink.sfe_time_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.bayes_get_param">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">bayes_get_param</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">masses</span></em>, <em class="sig-param"><span class="n">thresh</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.bayes_get_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Given star masses and the percentile cummanative mass fraction to
fit with, return the bayes parameters and the mass cut</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.bayesian_imf_fit">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">bayesian_imf_fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mass</span></em>, <em class="sig-param"><span class="n">m1</span></em>, <em class="sig-param"><span class="n">m2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.bayesian_imf_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Do a Bayesian fitting to mass with a power-law slope at -alpha
in range m1 to m2. Return alpha.
mass is the shifted sink mass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mass</strong> (<em>[</em><em>array</em><em>]</em><em>, </em><em>all the masses to fit with</em>) – </p></li>
<li><p><strong>m1</strong> (<em>fitting range</em>) – </p></li>
<li><p><strong>m2</strong> (<em>fitting range</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(A, a_peak, a_peak_minus, a_peak_plus)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.bayesian_imf_fit_new">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">bayesian_imf_fit_new</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mass</span></em>, <em class="sig-param"><span class="n">m1</span></em>, <em class="sig-param"><span class="n">m2</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.bayesian_imf_fit_new" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on and replacing bayesian_imf_fit. Now the mass fed in could
be all the masses in a simulation. Masses outside of [m1, m2] will
be cut out.</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.chabrier05">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">chabrier05</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.chabrier05" title="Permalink to this definition">¶</a></dt>
<dd><p>The Chabrier 2015 single-star IMF. Reference: Eq. 3 of  Krumholz:2014.
The value of mc is missing. Refer to the original paper: Chabrier:2015</p>
<dl class="field-list simple">
<dt class="field-odd">Return float</dt>
<dd class="field-odd"><p>dndlogm</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.chabrier05_logm">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">chabrier05_logm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logm</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.chabrier05_logm" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>float: dndlogm</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.chabrier2003">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">chabrier2003</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logm</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.chabrier2003" title="Permalink to this definition">¶</a></dt>
<dd><p>The chabrier 2003 system IMF</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.find_sigma">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">find_sigma</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logl</span></em>, <em class="sig-param"><span class="n">alpha</span></em>, <em class="sig-param"><span class="n">deltalogl</span><span class="o">=</span><span class="default_value">- 0.5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.find_sigma" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the most probable alpha and 1 sigam region of alpha,
given the log likelihood logl.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>alpha_max, alpha_minus, alpha_plus</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.get_bins">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">get_bins</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mass</span></em>, <em class="sig-param"><span class="n">maxBins</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">m_min</span><span class="o">=</span><span class="default_value">0.1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.get_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the bins for IMF. Apply on shifted mass</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.get_bins_fixed">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">get_bins_fixed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.get_bins_fixed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.imf.imf">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">imf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mass</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.imf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.imf.imf_compare">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">imf_compare</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m1</span></em>, <em class="sig-param"><span class="n">m2</span></em>, <em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">c1</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">c2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groups1</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">groups2</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.imf_compare" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two MFs in a top-bottom view.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m1</strong> – (array )</p></li>
<li><p><strong>m2</strong> – (array )</p></li>
<li><p><strong>ax</strong> – plt axis</p></li>
<li><p><strong>c1</strong> – color for m1 (default None)</p></li>
<li><p><strong>c2</strong> – color for m2 (default None)</p></li>
<li><p><strong>groups1</strong> – (list of lists) particle groups for m1 (default None)</p></li>
<li><p><strong>groups2</strong> – (list of lists) particle groups for m2 (default None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>f, ax</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.kroupa">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">kroupa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.kroupa" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.imf.kroupa_int_two_side">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">kroupa_int_two_side</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">alpha1</span></em>, <em class="sig-param"><span class="n">alpha2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.kroupa_int_two_side" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample Kroupa IMF. The coefficient is set by assuming alpha1 =
0.3, and alpha2 = 1.3</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.likeli">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">likeli</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m1</span></em>, <em class="sig-param"><span class="n">m2</span></em>, <em class="sig-param"><span class="n">alpha</span></em>, <em class="sig-param"><span class="n">mu</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.likeli" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the log likelihood. mu = np.log10(mass) is all masses.</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.lognormal">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">lognormal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logm</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.lognormal" title="Permalink to this definition">¶</a></dt>
<dd><p>A lognormal IMF.  The default parameters correspond to the Chabrier IMF</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.mass_vertical_line">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">mass_vertical_line</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">masses</span></em>, <em class="sig-param"><span class="n">thresh</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'k'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.mass_vertical_line" title="Permalink to this definition">¶</a></dt>
<dd><p>add mass divider. Apply to masses directly (will not shift the mass)</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.overplot_kroupa_new">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">overplot_kroupa_new</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">m_sum</span></em>, <em class="sig-param"><span class="n">m_min</span><span class="o">=</span><span class="default_value">0.08</span></em>, <em class="sig-param"><span class="n">m_max</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">textxy</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ls</span><span class="o">=</span><span class="default_value">'--'</span></em>, <em class="sig-param"><span class="n">isxloged</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.overplot_kroupa_new" title="Permalink to this definition">¶</a></dt>
<dd><p>over plot a Kroupa IMF curve. parameters are in log scale
Normalized to total stellar mass</p>
<p class="rubric">Notes</p>
<p>self is useless. I put INTERP here for INTERP to be copied in the Sink class</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.overplot_kroupa_new2">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">overplot_kroupa_new2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">m_sum</span></em>, <em class="sig-param"><span class="n">m_min</span><span class="o">=</span><span class="default_value">0.08</span></em>, <em class="sig-param"><span class="n">m_max</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">textxy</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ls</span><span class="o">=</span><span class="default_value">'--'</span></em>, <em class="sig-param"><span class="n">isxloged</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">scale</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.overplot_kroupa_new2" title="Permalink to this definition">¶</a></dt>
<dd><p>over plot a Kroupa IMF curve. parameters are in log scale
Normalized to total stellar mass</p>
<p class="rubric">Notes</p>
<p>self is useless. I put INTERP here for INTERP to be copied in the Sink class</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.overplot_salpeter">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">overplot_salpeter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">m_sum</span></em>, <em class="sig-param"><span class="n">m_min</span><span class="o">=</span><span class="default_value">0.08</span></em>, <em class="sig-param"><span class="n">m_max</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">textxy</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.overplot_salpeter" title="Permalink to this definition">¶</a></dt>
<dd><p>Overplot a Salpeter line. textxy=[textx, texty] in
log scale</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.pick_kroupa">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">pick_kroupa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">rand</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.pick_kroupa" title="Permalink to this definition">¶</a></dt>
<dd><p>Pick a Kropam sampling
rand is set for faster sampling based on numpy arrays.</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.pick_salpeter">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">pick_salpeter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">alpha</span><span class="o">=</span><span class="default_value">2.35</span></em>, <em class="sig-param"><span class="n">rand</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.pick_salpeter" title="Permalink to this definition">¶</a></dt>
<dd><p>For salpeter, rand is set for faster sampling based on numpy
arrays.</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.plot_bayes_fit">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">plot_bayes_fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">masses</span></em>, <em class="sig-param"><span class="n">thresh</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'g'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.plot_bayes_fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.imf.plot_bayes_fit_any_width">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">plot_bayes_fit_any_width</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">masses</span></em>, <em class="sig-param"><span class="n">thresh</span></em>, <em class="sig-param"><span class="n">yscaleup</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'g'</span></em>, <em class="sig-param"><span class="n">is_xlog</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.plot_bayes_fit_any_width" title="Permalink to this definition">¶</a></dt>
<dd><p>plot a bayes fit on top of a IMF</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.plot_chab03">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">plot_chab03</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">msum</span></em>, <em class="sig-param"><span class="n">m_min</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">m_max</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.plot_chab03" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.imf.plot_chab05">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">plot_chab05</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">msum</span></em>, <em class="sig-param"><span class="n">m_min</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">m_max</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">isxloged</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.plot_chab05" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.imf.plot_imf">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">plot_imf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">mass</span></em>, <em class="sig-param"><span class="n">bins</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">xlim</span><span class="o">=</span><span class="default_value">[- 2, 2]</span></em>, <em class="sig-param"><span class="n">ylim</span><span class="o">=</span><span class="default_value">[0.7, 330.0]</span></em>, <em class="sig-param"><span class="n">is_over_dlogm</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">is_text</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.plot_imf" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the mass spectrum of mass on ax.
x: mass bins; y: d N / d log10(m)</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.plot_imf_N_vs_m">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">plot_imf_N_vs_m</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">m</span></em>, <em class="sig-param"><span class="n">color</span><span class="o">=</span><span class="default_value">'k'</span></em>, <em class="sig-param"><span class="n">istext</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">bin_width</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bins</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.plot_imf_N_vs_m" title="Permalink to this definition">¶</a></dt>
<dd><p>Given m, plot the mass function where the y axis is the number of
stars and x axis is log(m), with bin size 0.1 deg.</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.plot_imf_from_nbins">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">plot_imf_from_nbins</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">bins</span></em>, <em class="sig-param"><span class="n">isLog</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.plot_imf_from_nbins" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a mass spectrum on ax, given n and bins. y: d N / d log(m)</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.plot_imf_from_output">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">plot_imf_from_output</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">r</span></em>, <em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">isbay</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.plot_imf_from_output" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>plt axis</em>) – the axis to plot on</p></li>
<li><p><strong>r</strong> (<em>Sink class object</em>) – Instance of ramses.Ramses</p></li>
<li><p><strong>out</strong> (<em>int</em>) – output ID</p></li>
<li><p><strong>isbay</strong> (<em>bool</em>) – If True, plot Bayesian fit to the power-law slopw</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.plot_single_imf">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">plot_single_imf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">jobid</span></em>, <em class="sig-param"><span class="n">is_set_title</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">is_plot_kroupa</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.plot_single_imf" title="Permalink to this definition">¶</a></dt>
<dd><p>Outdated. Do not use.
Plot the MFs of one job.
The indxes must be in reversed order (from big to small)</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.plot_sp_imf_one_job">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">plot_sp_imf_one_job</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">jobid</span></em>, <em class="sig-param"><span class="n">gammas</span></em>, <em class="sig-param"><span class="n">m_min</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">m_lower</span><span class="o">=</span><span class="default_value">0.08</span></em>, <em class="sig-param"><span class="n">sample_label_ext</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.plot_sp_imf_one_job" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>plt axis</em>) – the axis to plot in</p></li>
<li><p><strong>jobid</strong> (<em>str</em>) – jobid, e.g. ‘4.3.1’</p></li>
<li><p><strong>is_sal</strong> (<em>#</em>) – </p></li>
<li><p><strong>If True</strong> (<em>#</em>) – </p></li>
<li><p><strong>Salpeter sampling along with Kroupa sampling.</strong> (<em>add</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.plot_step_func">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">plot_step_func</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">bins</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.plot_step_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Accurate and precise. The bins are representing the value between the
pivots.</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.pow_formula">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">pow_formula</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">beta</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.pow_formula" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.imf.pow_int">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">pow_int</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">beta</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.pow_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the integral of x^-alpha from a to b. beta = 1 - alpha.</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.random">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">random</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; x in the interval [0, 1).<a class="headerlink" href="#ramtools.imf.random" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.imf.sample_filename">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">sample_filename</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobid</span></em>, <em class="sig-param"><span class="n">outputID</span></em>, <em class="sig-param"><span class="n">version</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.sample_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>When version=’’ and kind=0, returns the original sink filename
:param jobid: e.g. “3.3.2”, or “XL-VC”
:type jobid: str
:param version: description
:type version: str
:param kind: 0: sink, 1: Kroupa, 2: Salpeter
:type kind: int</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.sample_imf">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">sample_imf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pdf</span></em>, <em class="sig-param"><span class="n">m_tot</span></em>, <em class="sig-param"><span class="n">m_mean</span><span class="o">=</span><span class="default_value">0.2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.sample_imf" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample a cluster of stars with total mass m_tot with a given PDF</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pdf</strong> (<em>function</em>) – The MF</p></li>
<li><p><strong>m_tot</strong> (<em>double</em>) – total mass to sample to (e.g. the mass of a sink particle to fragment)</p></li>
<li><p><strong>m_mean</strong> (<em>double</em><em> (</em><em>not used</em><em>)</em>) – The estimated mean mass from pdf</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.sample_masses">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">sample_masses</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">masses</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'sal'</span></em>, <em class="sig-param"><span class="n">m_min</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">m_lower</span><span class="o">=</span><span class="default_value">0.08</span></em>, <em class="sig-param"><span class="n">m_max</span><span class="o">=</span><span class="default_value">- 1</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.sample_masses" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>masses</strong> (<em>array</em>) – The masses to sample from</p></li>
<li><p><strong>kind</strong> (<em>str</em>) – ‘sal’ for salpeter and ‘kro’ for Kroupa sampling recipe</p></li>
<li><p><strong>m_min</strong> (<em>double</em>) – The lower bound of IMF. 0.0 &lt; m_min &lt; 0.5</p></li>
<li><p><strong>m_lower</strong> (<em>double</em>) – Only useful when m_min is a string. m_min = max(m_lower, x * m_sink)</p></li>
<li><p><strong>m_max</strong> (<em>double</em>) – If m_max &lt; 0: use m_sink as m_max</p></li>
<li><p><strong>**kwargs</strong> (<em>passed to pick_salpeter</em><em> (</em><em>not to pick_kroupa</em><em>) </em><em>to set alpha.</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>mass_samp</strong> (<em>array</em>) – The sampled masses</p></li>
<li><p><strong># n</strong> (<em>list of integers</em>)</p></li>
<li><p><em>#     Counts of the histogram of the sampled masses</em></p></li>
<li><p><strong># bins</strong> (<em>list of double</em>)</p></li>
<li><p><em>#     Bins of the histogram of the sample masses</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.sample_two_powerlaw">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">sample_two_powerlaw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rand</span></em>, <em class="sig-param"><span class="n">a1</span></em>, <em class="sig-param"><span class="n">a2</span></em>, <em class="sig-param"><span class="n">m1</span></em>, <em class="sig-param"><span class="n">m2</span></em>, <em class="sig-param"><span class="n">m3</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.sample_two_powerlaw" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a random number from 0 to 1, return a sampled mass based the
following distribution: a broken power law from m1 to m2, m2 to m3,
with negative slopes a1 and a2</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.imf.set_imf_xticks">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">set_imf_xticks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.set_imf_xticks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.imf.set_imf_xticks_single">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">set_imf_xticks_single</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">is_remove_rightmost</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.set_imf_xticks_single" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.imf.test_mean">
<code class="sig-prename descclassname">ramtools.imf.</code><code class="sig-name descname">test_mean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.imf.test_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>A driver to test the mean mass of sampling. For Salpeter, INTERP’s ~0.6.</p>
</dd></dl>

</div>
<div class="section" id="module-ramtools.luminosity">
<span id="ramtools-luminosity-module"></span><h2>ramtools.luminosity module<a class="headerlink" href="#module-ramtools.luminosity" title="Permalink to this headline">¶</a></h2>
<p>Calculate luminosity histograms of sink particles in a simulation, for each outputs.</p>
<p class="rubric">Example</p>
<p>from ramtools.luminosity import lumhist
lumhist(jobdir=”../../2017-RAMSES/Job2.2.2/”, recipe=”frig_he”, plotdir=”./trash”, xlim=[38, 52])</p>
<dl class="py function">
<dt id="ramtools.luminosity.lumhist">
<code class="sig-prename descclassname">ramtools.luminosity.</code><code class="sig-name descname">lumhist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobdir</span></em>, <em class="sig-param"><span class="n">recipe</span></em>, <em class="sig-param"><span class="n">plotdir</span></em>, <em class="sig-param"><span class="n">xlim</span><span class="o">=</span><span class="default_value">[38, None]</span></em>, <em class="sig-param"><span class="n">ylim</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bins</span><span class="o">=</span><span class="default_value">'auto'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.luminosity.lumhist" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jobidr</strong> (<em>list of str</em>) – paths to job directories</p></li>
<li><p><strong>recipe</strong> (<em>str</em>) – one of “frig_he”, “sp”</p></li>
<li><p><strong>plotdir</strong> (<em>str</em>) – directory to save plots</p></li>
<li><p><strong>xlim</strong> – xlim of the histogram</p></li>
<li><p><strong>ylim</strong> – ylim</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ramtools.plotutils">
<span id="ramtools-plotutils-module"></span><h2>ramtools.plotutils module<a class="headerlink" href="#module-ramtools.plotutils" title="Permalink to this headline">¶</a></h2>
<p>Plot utilities for RAMSES outputs</p>
<p class="rubric">Example</p>
<dl class="py function">
<dt id="ramtools.plotutils.T_setup">
<code class="sig-prename descclassname">ramtools.plotutils.</code><code class="sig-name descname">T_setup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span></em>, <em class="sig-param"><span class="n">zlim</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_offset</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_time</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.plotutils.T_setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.plotutils.den_setup">
<code class="sig-prename descclassname">ramtools.plotutils.</code><code class="sig-name descname">den_setup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span></em>, <em class="sig-param"><span class="n">zlim</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_offset</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mu</span><span class="o">=</span><span class="default_value">1.4</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">'number_density'</span></em>, <em class="sig-param"><span class="n">weight_field</span><span class="o">=</span><span class="default_value">'density'</span></em>, <em class="sig-param"><span class="n">is_time</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.plotutils.den_setup" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>YT plot</em>) – </p></li>
<li><p><strong>zlim</strong> (<em>tuple</em>) – limits of the field</p></li>
<li><p><strong>mu</strong> (<em>float</em>) – the mean particle weight. The mass density rho = mu * n</p></li>
<li><p><strong>quant</strong> (<em>str</em>) – ‘volume’ or ‘column’ for volumetric and column density</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.plotutils.overplot_time_tag">
<code class="sig-prename descclassname">ramtools.plotutils.</code><code class="sig-name descname">overplot_time_tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">loc</span><span class="o">=</span><span class="default_value">'upper left'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.plotutils.overplot_time_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Overplot time tag on top-left corner</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>float</em>) – </p></li>
<li><p><strong>ax</strong> – </p></li>
<li><p><strong>loc</strong> (<em>str</em>) – one of ‘upper left’, ‘upper right’, ‘upper center’</p></li>
<li><p><strong>timeshift</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.plotutils.plot_prj">
<code class="sig-prename descclassname">ramtools.plotutils.</code><code class="sig-name descname">plot_prj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds</span></em>, <em class="sig-param"><span class="n">center</span></em>, <em class="sig-param"><span class="n">width</span></em>, <em class="sig-param"><span class="n">sinks</span></em>, <em class="sig-param"><span class="n">field</span><span class="o">=</span><span class="default_value">'density'</span></em>, <em class="sig-param"><span class="n">axis</span><span class="o">=</span><span class="default_value">'x'</span></em>, <em class="sig-param"><span class="n">axis_unit</span><span class="o">=</span><span class="default_value">'pc'</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'prj'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.plotutils.plot_prj" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> – YT ds instance, e.g. ds = yt.load(…)</p></li>
<li><p><strong>center</strong> – center in boxlen units (0, 1)</p></li>
<li><p><strong>width</strong> – width in boxlen units</p></li>
<li><p><strong>sinks</strong> (<em>n-by-3 array</em>) – position of the sink particles in code units</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.plotutils.quick_plot_prj">
<code class="sig-prename descclassname">ramtools.plotutils.</code><code class="sig-name descname">quick_plot_prj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds</span></em>, <em class="sig-param"><span class="n">sinks</span></em>, <em class="sig-param"><span class="n">field</span><span class="o">=</span><span class="default_value">'density'</span></em>, <em class="sig-param"><span class="n">axis</span><span class="o">=</span><span class="default_value">'z'</span></em>, <em class="sig-param"><span class="n">use_h5</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.plotutils.quick_plot_prj" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> – YT ds instance, e.g. ds = yt.load(…)</p></li>
<li><p><strong>sinks</strong> (<em>n-by-3 array</em>) – position of the sink particles in code units</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ramtools.radiation_module">
<span id="ramtools-radiation-module-module"></span><h2>ramtools.radiation_module module<a class="headerlink" href="#module-ramtools.radiation_module" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="ramtools.radiation_module.DustExtinction">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">DustExtinction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">Z</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">cloud</span><span class="o">=</span><span class="default_value">'SMC'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.DustExtinction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="ramtools.radiation_module.DustExtinction.get_sigma">
<code class="sig-name descname">get_sigma</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lam</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.DustExtinction.get_sigma" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>lam</strong> (<em>double</em><em> or </em><em>array</em>) – wavelength in um</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ramtools.radiation_module.DustExtinction.get_tau">
<code class="sig-name descname">get_tau</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lam</span></em>, <em class="sig-param"><span class="n">N_H</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.DustExtinction.get_tau" title="Permalink to this definition">¶</a></dt>
<dd><p>Formula: N_dust = Z / Z_0 * N_H</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ramtools.radiation_module.InterpolateTau">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">InterpolateTau</code><a class="headerlink" href="#ramtools.radiation_module.InterpolateTau" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Perform realistic tau-to-get_ef conversion
:param tau: array, ndim=1. log10 of tau
:return: get_ef: array, ndim=1. log10 of get_ef</p>
<dl class="py attribute">
<dt id="ramtools.radiation_module.InterpolateTau.c">
<code class="sig-name descname">c</code><em class="property"> = 299792458.0</em><a class="headerlink" href="#ramtools.radiation_module.InterpolateTau.c" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.radiation_module.InterpolateTau.deno">
<code class="sig-name descname">deno</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">T</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.InterpolateTau.deno" title="Permalink to this definition">¶</a></dt>
<dd><p>x = nu/nuH</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.radiation_module.InterpolateTau.do_interpolation">
<code class="sig-name descname">do_interpolation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.InterpolateTau.do_interpolation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ramtools.radiation_module.InterpolateTau.e">
<code class="sig-name descname">e</code><em class="property"> = 1.602176634e-19</em><a class="headerlink" href="#ramtools.radiation_module.InterpolateTau.e" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ramtools.radiation_module.InterpolateTau.h">
<code class="sig-name descname">h</code><em class="property"> = 6.62607015e-34</em><a class="headerlink" href="#ramtools.radiation_module.InterpolateTau.h" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.radiation_module.InterpolateTau.interpolate">
<code class="sig-name descname">interpolate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logtauLim</span><span class="o">=</span><span class="default_value">[- 1, 2.5]</span></em>, <em class="sig-param"><span class="n">Tlim</span><span class="o">=</span><span class="default_value">[5000, 50000]</span></em>, <em class="sig-param"><span class="n">isNewStyle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">field</span><span class="o">=</span><span class="default_value">'HI'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.InterpolateTau.interpolate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ramtools.radiation_module.InterpolateTau.k">
<code class="sig-name descname">k</code><em class="property"> = 1.380649e-23</em><a class="headerlink" href="#ramtools.radiation_module.InterpolateTau.k" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.radiation_module.InterpolateTau.logef">
<code class="sig-name descname">logef</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tau</span></em>, <em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">field</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.InterpolateTau.logef" title="Permalink to this definition">¶</a></dt>
<dd><p>the calculated escape fraction
Return:
——-
log(ef)</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.radiation_module.InterpolateTau.nume">
<code class="sig-name descname">nume</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">tau</span></em>, <em class="sig-param"><span class="n">T</span></em>, <em class="sig-param"><span class="n">field</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.InterpolateTau.nume" title="Permalink to this definition">¶</a></dt>
<dd><p>x = nu/nuH</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.radiation_module.InterpolateTau.planck">
<code class="sig-name descname">planck</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nu</span></em>, <em class="sig-param"><span class="n">T</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.InterpolateTau.planck" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the planck function</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.radiation_module.InterpolateTau.tau_to_ef">
<code class="sig-name descname">tau_to_ef</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tau</span></em>, <em class="sig-param"><span class="n">temps</span></em>, <em class="sig-param"><span class="n">field</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.InterpolateTau.tau_to_ef" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert tau to log(ef). np.ndim(tau) must be 2
:param tau:  tau
:param T:       T in Kelvin
:return: log10 of ef</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.radiation_module.InterpolateTau.tau_to_ef_H">
<code class="sig-name descname">tau_to_ef_H</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tau</span></em>, <em class="sig-param"><span class="n">T</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.InterpolateTau.tau_to_ef_H" title="Permalink to this definition">¶</a></dt>
<dd><p>tau and T are doubles</p>
</dd></dl>

<dl class="py attribute">
<dt id="ramtools.radiation_module.InterpolateTau.vH">
<code class="sig-name descname">vH</code><em class="property"> = 3288465369235488.0</em><a class="headerlink" href="#ramtools.radiation_module.InterpolateTau.vH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.QHeI">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">QHeI</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mass</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.QHeI" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Schaerer QHeI * center.unit_lum.</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.QHeII">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">QHeII</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mass</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.QHeII" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.QHeII_raw">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">QHeII_raw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mass</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.QHeII_raw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.QHeI_raw">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">QHeI_raw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mass</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.QHeI_raw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.QVacca">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">QVacca</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">Mass</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.QVacca" title="Permalink to this definition">¶</a></dt>
<dd><p>Return VaccaQHI in 1e44 s^-1. Mass range: 1 - 10000.</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.QVaccaRaw">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">QVaccaRaw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.QVaccaRaw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.QVacca_sp">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">QVacca_sp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.QVacca_sp" title="Permalink to this definition">¶</a></dt>
<dd><p>Modified Vacca, single power law</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.colden_to_tau_ev">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">colden_to_tau_ev</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eVs</span></em>, <em class="sig-param"><span class="n">colden_HI</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">colden_HeI</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">colden_HeII</span><span class="o">=</span><span class="default_value">0.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.colden_to_tau_ev" title="Permalink to this definition">¶</a></dt>
<dd><p>Only apply to gas (not dust)! eVs can be scaler or array
Remember to multiply tau by self.n_colden_H to get actual tau</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.dust_model">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">dust_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.dust_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.find_bin">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">find_bin</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nu</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.find_bin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.luminosity">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">luminosity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">masses</span></em>, <em class="sig-param"><span class="n">recipe</span></em>, <em class="sig-param"><span class="n">info_path</span></em>, <em class="sig-param"><span class="n">masstot</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.luminosity" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Args</dt><dd><p>masses (list): list of sink mass in Msun
recipe (str): one of [“frig_he”, “sp”]
info_path (str): of the of info_000##.txt file, which is used to</p>
<blockquote>
<div><p>get unit_d and unit_l</p>
</div></blockquote>
<dl class="simple">
<dt>masstot (float): total mass. When masstot = None (default), this</dt><dd><p>is np.sum(masses)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.poly">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">poly</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logm</span></em>, <em class="sig-param"><span class="n">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.poly" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.rescale_ratio_do_not_use">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">rescale_ratio_do_not_use</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mass</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.rescale_ratio_do_not_use" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the rescaling ratio – scluster / wcluster, where
wcluster = Sigma ssink – of a given sink mass function. This
rescaling is used in all the simulations shown in He2019 and
He2019a.</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.scluster_fit">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">scluster_fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mtot</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.scluster_fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.sigmaHI">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">sigmaHI</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nu</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.sigmaHI" title="Permalink to this definition">¶</a></dt>
<dd><p>[nu] = eV
Return sigma (cm^2)</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.sigmaHeI">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">sigmaHeI</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nu</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.sigmaHeI" title="Permalink to this definition">¶</a></dt>
<dd><p>[nu] = eV</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.radiation_module.sigmaHeII">
<code class="sig-prename descclassname">ramtools.radiation_module.</code><code class="sig-name descname">sigmaHeII</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nu</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.radiation_module.sigmaHeII" title="Permalink to this definition">¶</a></dt>
<dd><p>[nu] = eV</p>
</dd></dl>

</div>
<div class="section" id="module-ramtools.ramplot">
<span id="ramtools-ramplot-module"></span><h2>ramtools.ramplot module<a class="headerlink" href="#module-ramtools.ramplot" title="Permalink to this headline">¶</a></h2>
<p>Some utilities to make figures.</p>
<dl class="py attribute">
<dt>
<code class="sig-name descname">...</code></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="ramtools.ramplot.RamPlot">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.ramplot.</code><code class="sig-name descname">RamPlot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobdir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">jobid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ram_dir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fields</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramplot.RamPlot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#id2" title="ramtools.ramses.Ramses"><code class="xref py py-class docutils literal notranslate"><span class="pre">ramtools.ramses.Ramses</span></code></a></p>
<dl class="py method">
<dt id="ramtools.ramplot.RamPlot.plot_2d_profile">
<code class="sig-name descname">plot_2d_profile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">center</span></em>, <em class="sig-param"><span class="n">radius</span></em>, <em class="sig-param"><span class="n">field_x</span></em>, <em class="sig-param"><span class="n">field_y</span></em>, <em class="sig-param"><span class="n">field</span></em>, <em class="sig-param"><span class="n">ds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">weight_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lims</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">units</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">vlims</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">with_cb</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">force_redo</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">define_field</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramplot.RamPlot.plot_2d_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot 2D profile. Will store intermediate to disk for fast recreate of
the figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jobpath</strong> (<em>str</em>) – path to job</p></li>
<li><p><strong>out</strong> (<em>int</em>) – </p></li>
<li><p><strong>center</strong> (<em>tuple</em><em> or </em><em>str</em>) – tuple (boxlen unit) or ‘c’ (center)</p></li>
<li><p><strong>radius</strong> (<em>float</em><em> or </em><em>tuple</em>) – radius (half-width) of the region</p></li>
<li><p><strong>ds</strong> (<em>YT ds</em>) – optional, feed ds (default None)</p></li>
<li><p><strong>lims</strong> (<em>dict</em>) – limits of the axes, e.g. {‘density’: [1e3, 1e5],
‘temperature’: [1e0, 1e4]}</p></li>
<li><p><strong>vlims</strong> (<em>tuple</em>) – vlims of the colorbar (default None)</p></li>
<li><p><strong>with_cb</strong> (<em>bool</em>) – toggle colorbar (default True)</p></li>
<li><p><strong>define_field</strong> (<em>function</em>) – a function that defines a new field. It
should take ds as an argument.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>yt profile plot</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramplot.RamPlot.plot_phaseplot_for_all">
<code class="sig-name descname">plot_phaseplot_for_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">figdir</span></em>, <em class="sig-param"><span class="n">center</span></em>, <em class="sig-param"><span class="n">radius</span></em>, <em class="sig-param"><span class="n">prefix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">phaseplot_kwargs</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramplot.RamPlot.plot_phaseplot_for_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot_phaseplot_for_all</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">x_field</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;gas&#39;</span><span class="p">,</span> <span class="s1">&#39;density&#39;</span><span class="p">),</span>
<span class="go">        y_field=(&#39;gas&#39;, &#39;temperature&#39;), z_fields=(&#39;gas&#39;, &#39;cell_mass&#39;))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramplot.RamPlot.plot_prj">
<code class="sig-name descname">plot_prj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">ds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">center</span><span class="o">=</span><span class="default_value">0.5, 0.5, 0.5</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">axis</span><span class="o">=</span><span class="default_value">'x'</span></em>, <em class="sig-param"><span class="n">field</span><span class="o">=</span><span class="default_value">'density'</span></em>, <em class="sig-param"><span class="n">weight_field</span><span class="o">=</span><span class="default_value">'density'</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'projection'</span></em>, <em class="sig-param"><span class="n">normal</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">north</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tag</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">use_h5</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">force_redo</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramplot.RamPlot.plot_prj" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot projection or slice plot. When plotting projection plot, an
intermediate data is stored for fast recreate of the figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out</strong> (<em>int</em>) – the frame number</p></li>
<li><p><strong>ds</strong> (<em>YT ds</em>) – optional. If not specified, will load a ds using self.load_ds</p></li>
<li><p><strong>center</strong> (<em>tuple</em>) – the center as a tuple in boxlen unit. Default: (0.5, 0.5, 0.5)</p></li>
<li><p><strong>width</strong> (<em>tuple</em><em> or </em><em>float</em>) – the width of the area to plot. e.g. (0.1 ‘pc’); 0.02. Default: 0.5</p></li>
<li><p><strong>axis</strong> (<em>int</em><em> or </em><em>str</em>) – the axis of the line of sight. Default: ‘x’</p></li>
<li><p><strong>field</strong> (<em>tuple</em><em> or </em><em>str</em>) – the field to plot. Default: ‘density’</p></li>
<li><p><strong>weight_field</strong> (<em>tuple</em><em> or </em><em>str</em>) – the field to weight with. Default: ‘density’</p></li>
<li><p><strong>kind</strong> (<em>str</em>) – the figure type, either ‘projection’ (default) or ‘slice’.</p></li>
<li><p><strong>normal</strong> (<em>tuple</em><em> or </em><em>list</em>) – normal vector</p></li>
<li><p><strong>north</strong> (<em>tuple</em><em> or </em><em>lsit</em>) – north vector</p></li>
<li><p><strong>tag</strong> (<em>any</em>) – a tag</p></li>
<li><p><strong>use_h5</strong> (<em>bool</em>) – whether or not to use h5 data</p></li>
<li><p><strong>force_redo</strong> (<em>bool</em>) – whether or not to force remake the h5 data and figure</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>you can save it to file by <cite>p.save(‘filename.png’)</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>p (YT plot instance)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramplot.RamPlot.projection_for_all_outputs">
<code class="sig-name descname">projection_for_all_outputs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">outdir</span></em>, <em class="sig-param"><span class="n">prefix</span><span class="o">=</span><span class="default_value">'output'</span></em>, <em class="sig-param"><span class="n">center</span><span class="o">=</span><span class="default_value">'c'</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">force_redo</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramplot.RamPlot.projection_for_all_outputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot (density-weighted) projection of density for all frames of a
simulation job.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ourdir</strong> (<em>int</em>) – </p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – prefix of the filenames (default “output”). The name
of the figures would be prefix-x-output_00001.png</p></li>
<li><p><strong>center</strong> (<em>str</em><em> or </em><em>list</em>) – (default ‘c’)</p></li>
<li><p><strong>width</strong> (<em>float</em><em> or </em><em>tuple</em>) – (default 1.0) float as in boxlen unit or a
tuple containing a number and unit, e.g. (0.1, ‘pc’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramplot.RamPlot.to_boxlen">
<code class="sig-name descname">to_boxlen</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">quant</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramplot.RamPlot.to_boxlen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ramtools.ramplot.dict_hash">
<code class="sig-prename descclassname">ramtools.ramplot.</code><code class="sig-name descname">dict_hash</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dictionary</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#ramtools.ramplot.dict_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>MD5 hash of a dictionary.</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.ramplot.plot_a_region">
<code class="sig-prename descclassname">ramtools.ramplot.</code><code class="sig-name descname">plot_a_region</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ram</span></em>, <em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">ds</span></em>, <em class="sig-param"><span class="n">center</span></em>, <em class="sig-param"><span class="n">fields</span><span class="o">=</span><span class="default_value">'den'</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'slc'</span></em>, <em class="sig-param"><span class="n">axis</span><span class="o">=</span><span class="default_value">'z'</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">center_vel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">L</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">direcs</span><span class="o">=</span><span class="default_value">'face'</span></em>, <em class="sig-param"><span class="n">zlims</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">l_max</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_id</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">bar_length</span><span class="o">=</span><span class="default_value">2000.0</span></em>, <em class="sig-param"><span class="n">sketch</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">time_offset</span><span class="o">=</span><span class="default_value">'tRelax'</span></em>, <em class="sig-param"><span class="n">is_set_size</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">is_time</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">streamplot_kwargs</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">more_kwargs</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramplot.plot_a_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Do projection or slice plots in a region.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ram</strong> – a ramtools.Ramses instance</p></li>
<li><p><strong>out</strong> (<em>int</em>) – output frame</p></li>
<li><p><strong>ds</strong> (<em>yt.ds</em>) – yt.load instance</p></li>
<li><p><strong>center</strong> (<em>list_like</em>) – the center of the region like in yt.SlicePlot</p></li>
<li><p><strong>fields</strong> (<em>str</em><em> or </em><em>tuple</em>) – the field to plot. The avaialble options are: ‘den’ or ‘density’ - density. ‘logden’ - log of density. ‘T’ or ‘temperature’ - temperature. ‘T_vel_rela’ - temperature overplot with velocity field. ‘pressure’ - thermal pressure. ‘magstream’ - stream lines of magnetic fields on top of density slice. The magnetic strength is be indicated by the color of the stream lines. ‘beta’ - plasma beta parameter. ‘AlfMach’ - Alfvenic Mach number. ‘xHII’ - hydrogen ionization fraction. ‘mach’ - thermal Mach number. ‘mag’ - magnetic field strength. ‘vel’ - velocity field on top of density slice. ‘vel_rela’ - relative velocity field, i.e. the velocity field in the frame with a velocity defined by center_vel. ‘mach2d’ - thermal Mach number in the plane. ‘p_mag’ - magnetic pressure.</p></li>
<li><p><strong>kind</strong> (<em>str</em>) – ‘slc’ or ‘prj’. Default: ‘slc’</p></li>
<li><p><strong>axis</strong> (<em>str</em><em> or </em><em>int</em>) – One of (0, 1, 2, ‘x’, ‘y’, ‘z’).</p></li>
<li><p><strong>width</strong> (<em>float</em><em> or </em><em>tuple</em>) – width of the field of view. e.g. 0.01,
(1000, ‘AU’).</p></li>
<li><p><strong>center_vel</strong> (<em>list_like</em><em> or </em><em>None</em>) – the velocity of the center. (Default
None)</p></li>
<li><p><strong>L</strong> (<em>list_like</em>) – the line-of-sight vector. Will overwrite axis.
Default: None</p></li>
<li><p><strong>direcs</strong> (<em>str</em>) – ‘face’ or ‘edge’. Will only be used if L is not None.</p></li>
<li><p><strong>zlims</strong> (<em>dict</em>) – The limits of the fields. e.g. {‘density’: [1e4, 1e8]},
{‘B’: [1e-5, 1e-2]} (the default of B field).</p></li>
<li><p><strong>l_max</strong> (<em>int</em>) – </p></li>
<li><p><strong>is_id</strong> (<em>bool</em>) – toggle marking sink ID (the order of creation)</p></li>
<li><p><strong>bar_length</strong> (<em>float</em>) – not using</p></li>
<li><p><strong>sketch</strong> (<em>bool</em>) – If True, will do a faster plot of a simple imshow for
test purpose. Default: False.</p></li>
<li><p><strong>is_time</strong> (<em>bool</em>) – toggle overplotting time tag</p></li>
<li><p><strong>time_offset</strong> (<em>str</em><em> or </em><em>int</em><em> or </em><em>float</em>) – One of the following cases:
str: ‘rRelax’
int: the frame of which the time is used
float: time in Myr</p></li>
<li><p><strong>is_set_size</strong> (<em>bool</em>) – toggle setting figure size to 6 to make texts
bigger. Default: True.</p></li>
<li><p><strong>streamplot_kwargs</strong> (<em>dict</em>) – More kwargs for plt.streamplot that is used when fields=’magstream’. Default: {}</p></li>
<li><p><strong>more_kwargs</strong> (<em>dict</em>) – more field-specific kwargs. Default: {}</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>yt figure or plt.figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.ramplot.to_boxlen">
<code class="sig-prename descclassname">ramtools.ramplot.</code><code class="sig-name descname">to_boxlen</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">quant</span></em>, <em class="sig-param"><span class="n">ds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramplot.to_boxlen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ramtools.ramses">
<span id="ramtools-ramses-module"></span><h2>ramtools.ramses module<a class="headerlink" href="#module-ramtools.ramses" title="Permalink to this headline">¶</a></h2>
<p>Defines the Ramses class, the core of ramtools.</p>
<dl class="py attribute">
<dt id="ramtools.ramses.RAM_DIR">
<code class="sig-prename descclassname">ramtools.ramses.</code><code class="sig-name descname">RAM_DIR</code><a class="headerlink" href="#ramtools.ramses.RAM_DIR" title="Permalink to this definition">¶</a></dt>
<dd><p>Global variable defining the path to RAMSES jobs</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="ramtools.ramses.Ramses">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.ramses.</code><code class="sig-name descname">Ramses</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobdir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">jobid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ram_dir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fields</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramses.Ramses" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ramtools.ramsesbase.RamsesBase" title="ramtools.ramsesbase.RamsesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ramtools.ramsesbase.RamsesBase</span></code></a></p>
<p>Inherit from RamsesBase for the use of the author’s personal use. The
methods defined in this class may not work for another person’s RAMSES
simulations.</p>
<dl class="py method">
<dt id="ramtools.ramses.Ramses.find_formation_pos_from_movie">
<code class="sig-name descname">find_formation_pos_from_movie</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sinkid</span></em>, <em class="sig-param"><span class="n">msg</span><span class="o">=</span><span class="default_value">'off'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramses.Ramses.find_formation_pos_from_movie" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the formation location of the sink particles with given sinkid.
This is done by finding the sink_*.txt file where the sink first form
and stops accreting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinkid</strong> (<em>int</em>) – (starting from 1)</p></li>
<li><p><strong>msg</strong> (<em>bool</em><em> or </em><em>string</em>) – print message if msg is True or ‘on’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>n by 3 array. Position of sink particle at formation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramses.Ramses.get_gas_mass">
<code class="sig-name descname">get_gas_mass</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramses.Ramses.get_gas_mass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.ramses.Ramses.get_gas_peak_density">
<code class="sig-name descname">get_gas_peak_density</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramses.Ramses.get_gas_peak_density" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.ramses.Ramses.get_out_after">
<code class="sig-name descname">get_out_after</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramses.Ramses.get_out_after" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the out number right after a give time t (Myr)</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramses.Ramses.get_sink_acc_rate">
<code class="sig-name descname">get_sink_acc_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramses.Ramses.get_sink_acc_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the sink accretion rate.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>DO NOT USE THIS. The results are not trustable. This column of data from RAMSES outputs seems to be problematic</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramses.Ramses.get_sink_info_from_movie1">
<code class="sig-name descname">get_sink_info_from_movie1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sinkid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramses.Ramses.get_sink_info_from_movie1" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of time and a list of sink masses</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sinkid</strong> (<em>int</em>) – sink id, starting from 0</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>a dictionary containing the following keys: ‘out’, ‘t’, ‘m’, ‘x’,</dt><dd><p>’y’, ‘z’, ‘vx’, ‘vy’, ‘vz’. All in code units.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramses.Ramses.get_times_from_movie1">
<code class="sig-name descname">get_times_from_movie1</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramses.Ramses.get_times_from_movie1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.ramses.Ramses.get_trelax">
<code class="sig-name descname">get_trelax</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramses.Ramses.get_trelax" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.ramses.Ramses.movie_sink_path">
<code class="sig-name descname">movie_sink_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramses.Ramses.movie_sink_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.ramses.Ramses.overplot_time_tag">
<code class="sig-name descname">overplot_time_tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">timeshift</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">loc</span><span class="o">=</span><span class="default_value">'upper left'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramses.Ramses.overplot_time_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Overplot time tag on top-left corner</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> – </p></li>
<li><p><strong>out</strong> – </p></li>
<li><p><strong>timeshift</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramses.Ramses.read_movie_sink_as_particle">
<code class="sig-name descname">read_movie_sink_as_particle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramses.Ramses.read_movie_sink_as_particle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="id1">
<h2>ramtools.ramses module<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-0"></span><p>Defines the Ramses class, the core of ramtools.</p>
<dl class="py attribute">
<dt id="id0">
<code class="sig-prename descclassname">ramtools.ramses.</code><code class="sig-name descname">RAM_DIR</code><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p>Global variable defining the path to RAMSES jobs</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="id2">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.ramses.</code><code class="sig-name descname">Ramses</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobdir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">jobid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ram_dir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fields</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#id2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ramtools.ramsesbase.RamsesBase" title="ramtools.ramsesbase.RamsesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ramtools.ramsesbase.RamsesBase</span></code></a></p>
<p>Inherit from RamsesBase for the use of the author’s personal use. The
methods defined in this class may not work for another person’s RAMSES
simulations.</p>
<dl class="py method">
<dt id="id3">
<code class="sig-name descname">find_formation_pos_from_movie</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sinkid</span></em>, <em class="sig-param"><span class="n">msg</span><span class="o">=</span><span class="default_value">'off'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#id3" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the formation location of the sink particles with given sinkid.
This is done by finding the sink_*.txt file where the sink first form
and stops accreting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinkid</strong> (<em>int</em>) – (starting from 1)</p></li>
<li><p><strong>msg</strong> (<em>bool</em><em> or </em><em>string</em>) – print message if msg is True or ‘on’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>n by 3 array. Position of sink particle at formation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="id4">
<code class="sig-name descname">get_gas_mass</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id4" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="id5">
<code class="sig-name descname">get_gas_peak_density</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id5" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="id6">
<code class="sig-name descname">get_out_after</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em><span class="sig-paren">)</span><a class="headerlink" href="#id6" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the out number right after a give time t (Myr)</p>
</dd></dl>

<dl class="py method">
<dt id="id7">
<code class="sig-name descname">get_sink_acc_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em><span class="sig-paren">)</span><a class="headerlink" href="#id7" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the sink accretion rate.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>DO NOT USE THIS. The results are not trustable. This column of data from RAMSES outputs seems to be problematic</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="id8">
<code class="sig-name descname">get_sink_info_from_movie1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sinkid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#id8" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of time and a list of sink masses</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sinkid</strong> (<em>int</em>) – sink id, starting from 0</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>a dictionary containing the following keys: ‘out’, ‘t’, ‘m’, ‘x’,</dt><dd><p>’y’, ‘z’, ‘vx’, ‘vy’, ‘vz’. All in code units.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="id9">
<code class="sig-name descname">get_times_from_movie1</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id9" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="id10">
<code class="sig-name descname">get_trelax</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id10" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="id11">
<code class="sig-name descname">movie_sink_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num</span></em><span class="sig-paren">)</span><a class="headerlink" href="#id11" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="id12">
<code class="sig-name descname">overplot_time_tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">timeshift</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">loc</span><span class="o">=</span><span class="default_value">'upper left'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#id12" title="Permalink to this definition">¶</a></dt>
<dd><p>Overplot time tag on top-left corner</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> – </p></li>
<li><p><strong>out</strong> – </p></li>
<li><p><strong>timeshift</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt id="id13">
<code class="sig-name descname">read_movie_sink_as_particle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num</span></em><span class="sig-paren">)</span><a class="headerlink" href="#id13" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ramtools.ramsesbase">
<span id="ramtools-ramsesbase-module"></span><h2>ramtools.ramsesbase module<a class="headerlink" href="#module-ramtools.ramsesbase" title="Permalink to this headline">¶</a></h2>
<dl class="py exception">
<dt id="ramtools.ramsesbase.NoSinkParticle">
<em class="property">exception </em><code class="sig-prename descclassname">ramtools.ramsesbase.</code><code class="sig-name descname">NoSinkParticle</code><a class="headerlink" href="#ramtools.ramsesbase.NoSinkParticle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>exception: no sink particle found in an output or a .csv file.</p>
</dd></dl>

<dl class="py class">
<dt id="ramtools.ramsesbase.RamsesBase">
<em class="property">class </em><code class="sig-prename descclassname">ramtools.ramsesbase.</code><code class="sig-name descname">RamsesBase</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobdir</span></em>, <em class="sig-param"><span class="n">fields</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the core of ramtools. Most of the times, you want to start ramtools
by declaring this class.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ramtools</span> <span class="k">as</span> <span class="nn">rt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ram</span> <span class="o">=</span> <span class="n">rt</span><span class="o">.</span><span class="n">Ramses</span><span class="p">(</span><span class="s2">&quot;../tests/Job_test&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">par</span> <span class="o">=</span> <span class="n">ram</span><span class="o">.</span><span class="n">get_sink_particles</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mass</span> <span class="o">=</span> <span class="n">par</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total mass =&quot;</span><span class="p">,</span> <span class="n">mass</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ram</span> <span class="o">=</span> <span class="n">rt</span><span class="o">.</span><span class="n">Ramses</span><span class="p">(</span><span class="s2">&quot;Job1&quot;</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="n">FIELDS</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.exist">
<code class="sig-name descname">exist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.exist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.get_all_outputs">
<code class="sig-name descname">get_all_outputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.get_all_outputs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.get_ds">
<code class="sig-name descname">get_ds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.get_ds" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the first output out there. This is necessary to get the units
and other things</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.get_first_output">
<code class="sig-name descname">get_first_output</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.get_first_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.get_info_path">
<code class="sig-name descname">get_info_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.get_info_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the path to info_out.txt</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.get_last_output_backward">
<code class="sig-name descname">get_last_output_backward</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.get_last_output_backward" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.get_sink_masses">
<code class="sig-name descname">get_sink_masses</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.get_sink_masses" title="Permalink to this definition">¶</a></dt>
<dd><p>Get sink masses in M_sun of one output (not shifted)
Replacing get_sink_mass</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>out</strong> (<em>int</em>) – the output frame</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>an array of shape (n, ) containing the particle masses in</dt><dd><p><strong>solar mass</strong>.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>FileNotFoundError</strong> – </p></li>
<li><p><a class="reference internal" href="#ramtools.ramsesbase.NoSinkParticle" title="ramtools.ramsesbase.NoSinkParticle"><strong>NoSinkParticle</strong></a> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.get_sink_particles">
<code class="sig-name descname">get_sink_particles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.get_sink_particles" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>out</strong> (<em>int</em>) – the output frame</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>(n, 7) array containing the sink</dt><dd><p>parameters, where n is the number of particles and the 7
columns are: [m, x, y, z, vx, vy, vx], all in code units</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>particles (array)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>FileNotFoundError</strong> – </p></li>
<li><p><a class="reference internal" href="#ramtools.ramsesbase.NoSinkParticle" title="ramtools.ramsesbase.NoSinkParticle"><strong>NoSinkParticle</strong></a> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.get_sink_path">
<code class="sig-name descname">get_sink_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.get_sink_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the path to sink_*.csv</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.get_sink_positions">
<code class="sig-name descname">get_sink_positions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.get_sink_positions" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>out</strong> (<em>int</em>) – the output frame</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>an array with shape (n, 3) containing the particle positions</dt><dd><p>in code unit</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>FileNotFoundError</strong> – </p></li>
<li><p><a class="reference internal" href="#ramtools.ramsesbase.NoSinkParticle" title="ramtools.ramsesbase.NoSinkParticle"><strong>NoSinkParticle</strong></a> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.get_time">
<code class="sig-name descname">get_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">readinfo</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.get_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time in Myr (not substracting t_relax) of data_id.</p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.get_units">
<code class="sig-name descname">get_units</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.get_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the following units for this job:</p>
<ol class="arabic simple">
<li><p>unit_l: this is the boxlen (in cm), which equals to unit_l_code * boxlen</p></li>
<li><p>unit_l_code: this is the actually length unit (in cm)</p></li>
<li><p>unit_d: dnesity unit in cgs</p></li>
<li><p>unit_t: time unit in cgs</p></li>
<li><p>unit_v: velocity unit in cgs</p></li>
<li><p>unit_m: mass unit in cgs</p></li>
<li><p>unit_m_in_Msun: mass unit in Msun</p></li>
<li><p>kin_ene_in_cgs: kinectic energy in cgs</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.load_ds">
<code class="sig-name descname">load_ds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.load_ds" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a yt.load instance of the frame <cite>out</cite></p>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.overplot_sink">
<code class="sig-name descname">overplot_sink</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span></em>, <em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">plot_args</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.overplot_sink" title="Permalink to this definition">¶</a></dt>
<dd><p>Over plot sink particles (as green crosses) on top of a YT
slice/project plot</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>yt.sliceplot</em><em> or </em><em>yt.projectplot</em>) – the plot to overplot on</p></li>
<li><p><strong>out</strong> (<em>int</em>) – the output frame</p></li>
<li><p><strong>plot_args</strong> (<em>dict</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ramtools.ramsesbase.RamsesBase.overplot_sink_with_id">
<code class="sig-name descname">overplot_sink_with_id</code><span class="sig-paren">(</span><em class="sig-param">plot, out, center, radius, is_id=True, colors=&lt;matplotlib.colors.LinearSegmentedColormap object&gt;, withedge=False, zorder='time', lims=[0.01, 100.0]</em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.RamsesBase.overplot_sink_with_id" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plot</strong> (<em>yt plot</em>) – the plot to overplot on</p></li>
<li><p><strong>out</strong> (<em>int</em>) – the output frame</p></li>
<li><p><strong>center</strong> (<em>tuple</em><em> or </em><em>list</em>) – the center of the plot in boxlen units</p></li>
<li><p><strong>radius</strong> (<em>float</em>) – the radius (half width) of the box around
the center defining the domain of interest, in boxlen units</p></li>
<li><p><strong>weight</strong> (<em>str</em>) – give weights to the annotates of the sink particles
by the ‘time’ of creation, or by their ‘mass’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ramtools.ramsesbase.set_RAM_DIR">
<code class="sig-prename descclassname">ramtools.ramsesbase.</code><code class="sig-name descname">set_RAM_DIR</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ram_dir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.set_RAM_DIR" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the global variable RAM_DIR. Check Ramses.__init__ for its usage.</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.ramsesbase.to_boxlen">
<code class="sig-prename descclassname">ramtools.ramsesbase.</code><code class="sig-name descname">to_boxlen</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">quant</span></em>, <em class="sig-param"><span class="n">ds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ramsesbase.to_boxlen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ramtools.to_skirt">
<span id="ramtools-to-skirt-module"></span><h2>ramtools.to_skirt module<a class="headerlink" href="#module-ramtools.to_skirt" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="ramtools.to_skirt.to_skirt">
<code class="sig-prename descclassname">ramtools.to_skirt.</code><code class="sig-name descname">to_skirt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobid</span></em>, <em class="sig-param"><span class="n">output</span></em>, <em class="sig-param"><span class="n">fn_out</span></em>, <em class="sig-param"><span class="n">family</span><span class="o">=</span><span class="default_value">'BC'</span></em>, <em class="sig-param"><span class="n">center</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">inf</span></em>, <em class="sig-param"><span class="n">width_boxlen</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">letdie</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">skip_exist</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">jobdir</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.to_skirt.to_skirt" title="Permalink to this definition">¶</a></dt>
<dd><p>Make particle data for SKIRT run</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jobid</strong> (<em>str</em>) – will be overwritten by jobdir if jobdir is not None</p></li>
<li><p><strong>output</strong> (<em>int</em>) – </p></li>
<li><p><strong>fn_out</strong> (<em>str</em>) – output filename</p></li>
<li><p><strong>center</strong> (<em>float</em><em> or </em><em>array</em>) – center of the box in boxlen units. Default:
(.5, .5, .5)</p></li>
<li><p><strong>width</strong> – width of the box in code unit (unit_l_code, not boxlen)</p></li>
<li><p><strong>width_boxlen</strong> – width of the box in boxlen unit. Will overwrite width.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ramtools.units">
<span id="ramtools-units-module"></span><h2>ramtools.units module<a class="headerlink" href="#module-ramtools.units" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Define the following constants in cgs units:</dt><dd><ul class="simple">
<li><p>all constants in con_list</p></li>
<li><p>all constants in units_list</p></li>
<li><p>m_H</p></li>
</ul>
</dd>
</dl>
<p>&#64;author: chongchonghe</p>
</div>
<div class="section" id="module-ramtools.utilities">
<span id="ramtools-utilities-module"></span><h2>ramtools.utilities module<a class="headerlink" href="#module-ramtools.utilities" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="ramtools.utilities.get_sink_info_from_movie1">
<code class="sig-prename descclassname">ramtools.utilities.</code><code class="sig-name descname">get_sink_info_from_movie1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">movie_dir</span></em>, <em class="sig-param"><span class="n">sinkid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.utilities.get_sink_info_from_movie1" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of time and a list of sink masses</p>
<dl class="simple">
<dt>Args</dt><dd><p>sinkid: interger, starting from 0</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>Return a dictionary containing the following keys ‘out’, ‘t’, ‘m’, ‘x’,</em></p></li>
<li><p><em>’y’, ‘z’, ‘vx’, ‘vy’, ‘vz’. All in code units.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.utilities.get_sink_mass_from_movie1_for_all_sinks">
<code class="sig-prename descclassname">ramtools.utilities.</code><code class="sig-name descname">get_sink_mass_from_movie1_for_all_sinks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">movie_dir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.utilities.get_sink_mass_from_movie1_for_all_sinks" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the times and sink masses of all sink particles from movie files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>movie_dir</strong> (<em>str</em>) – path to movie1</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>(outs, times, masses)</p>
<dl class="simple">
<dt>outs (list of int): length n list storing the movie frame indices.</dt><dd><p>n is the number of movie frames that has sink information.</p>
</dd>
<dt>times (list of float): length n list storing the times (in code unit)</dt><dd><p>of the movie frames</p>
</dd>
<dt>masses (array of float): (m, n) array storing the masses of all sink</dt><dd><p>particles over time. m is the number of total sink particles
in the last movie file. For instance, masses[3] is a list of the
masses of sink particle #3 (starting from 0) over <cite>times</cite>.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A tuple of 3</p>
</dd>
</dl>
<p>Usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">outs</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">masses</span> <span class="o">=</span> <span class="n">get_sink_mass_from_movie1_for_all_sinks</span><span class="p">(</span><span class="s2">&quot;tests/Job1/movie1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">times</span><span class="p">,</span> <span class="n">masses</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>    <span class="c1"># plot the mass of sink #0 over time</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="ramtools.utilities.get_times_from_movie1">
<code class="sig-prename descclassname">ramtools.utilities.</code><code class="sig-name descname">get_times_from_movie1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">movie_dir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.utilities.get_times_from_movie1" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary: {100: 0.012, 101: 0.013, …}</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.utilities.get_unit_B_new">
<code class="sig-prename descclassname">ramtools.utilities.</code><code class="sig-name descname">get_unit_B_new</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.utilities.get_unit_B_new" title="Permalink to this definition">¶</a></dt>
<dd><p>NEW: the original version was wrong
Get the unit of B field strength.</p>
<p>[B] = sqrt(4pi) * [v] * [sqrt(rho)]</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the unit of B in cgs units</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>YT.unit</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.utilities.get_unit_B_wrong">
<code class="sig-prename descclassname">ramtools.utilities.</code><code class="sig-name descname">get_unit_B_wrong</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.utilities.get_unit_B_wrong" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the unit of B field strength</p>
<p><span class="math notranslate nohighlight">\(1 \ \mathrm{Gauss} = \sqrt{{g} / {cm}} / s, u_B = B^2 / 8 \pi\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the unit of B in cgs units</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>YT.unit</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.utilities.mass_to_radius">
<code class="sig-prename descclassname">ramtools.utilities.</code><code class="sig-name descname">mass_to_radius</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mass</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.utilities.mass_to_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Input: mass (Msun); output: stellar radius (Rsun)</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.utilities.mass_to_temp">
<code class="sig-prename descclassname">ramtools.utilities.</code><code class="sig-name descname">mass_to_temp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mass</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.utilities.mass_to_temp" title="Permalink to this definition">¶</a></dt>
<dd><p>input: mass (M_sun); output: T (K)</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.utilities.my_yt_load">
<code class="sig-prename descclassname">ramtools.utilities.</code><code class="sig-name descname">my_yt_load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">job_path</span></em>, <em class="sig-param"><span class="n">out</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.utilities.my_yt_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Quickly yt.load a job with the correct FIELDS</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job_path</strong> (<em>str</em>) – path to a job directory</p></li>
<li><p><strong>out</strong> (<em>int</em>) – the output frame you want to load</p></li>
</ul>
</dd>
</dl>
<p>Usage:
&gt;&gt;&gt; ds = my_yt_load(“tests/Job1”, 1)</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.utilities.read_from_nml">
<code class="sig-prename descclassname">ramtools.utilities.</code><code class="sig-name descname">read_from_nml</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn</span></em>, <em class="sig-param"><span class="n">cat</span></em>, <em class="sig-param"><span class="n">field</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.utilities.read_from_nml" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.utilities.read_quant_from_ramses_info">
<code class="sig-prename descclassname">ramtools.utilities.</code><code class="sig-name descname">read_quant_from_ramses_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">info</span></em>, <em class="sig-param"><span class="n">quant</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.utilities.read_quant_from_ramses_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="ramtools.utilities.read_zoom_center">
<code class="sig-prename descclassname">ramtools.utilities.</code><code class="sig-name descname">read_zoom_center</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nml</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.utilities.read_zoom_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the namelist file nml, return the center of the zoom</p>
</dd></dl>

<dl class="py function">
<dt id="ramtools.utilities.read_zoom_radius">
<code class="sig-prename descclassname">ramtools.utilities.</code><code class="sig-name descname">read_zoom_radius</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nml</span></em>, <em class="sig-param"><span class="n">idx</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.utilities.read_zoom_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the namelist file nml, return the radius of the zoom region (with maximum l_max</p>
</dd></dl>

</div>
<div class="section" id="module-ramtools.yt_field_descrs">
<span id="ramtools-yt-field-descrs-module"></span><h2>ramtools.yt_field_descrs module<a class="headerlink" href="#module-ramtools.yt_field_descrs" title="Permalink to this headline">¶</a></h2>
<dl class="py attribute">
<dt id="ramtools.yt_field_descrs.FIELDS">
<code class="sig-prename descclassname">ramtools.yt_field_descrs.</code><code class="sig-name descname">FIELDS</code><a class="headerlink" href="#ramtools.yt_field_descrs.FIELDS" title="Permalink to this definition">¶</a></dt>
<dd><p>a list of RAMSES fields. This is different from the default
fields in the public version of RAMSES</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ramtools.ytfast">
<span id="ramtools-ytfast-module"></span><h2>ramtools.ytfast module<a class="headerlink" href="#module-ramtools.ytfast" title="Permalink to this headline">¶</a></h2>
<p>A general wrapper to make some fo the common yt functions more
efficient by reusing intermediate data</p>
<p>General-purpose yt wrappers. Apply to any data that yt supports.</p>
<dl class="py function">
<dt id="ramtools.ytfast.PhasePlot">
<code class="sig-prename descclassname">ramtools.ytfast.</code><code class="sig-name descname">PhasePlot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_source</span></em>, <em class="sig-param"><span class="n">x_field</span></em>, <em class="sig-param"><span class="n">y_field</span></em>, <em class="sig-param"><span class="n">z_fields</span></em>, <em class="sig-param"><span class="n">weight_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">x_bins</span><span class="o">=</span><span class="default_value">128</span></em>, <em class="sig-param"><span class="n">y_bins</span><span class="o">=</span><span class="default_value">128</span></em>, <em class="sig-param"><span class="n">accumulation</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">fractional</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">fontsize</span><span class="o">=</span><span class="default_value">18</span></em>, <em class="sig-param"><span class="n">figure_size</span><span class="o">=</span><span class="default_value">8.0</span></em>, <em class="sig-param"><span class="n">shading</span><span class="o">=</span><span class="default_value">'nearest'</span></em>, <em class="sig-param"><span class="n">extrema</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">units</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">zlims</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">force_redo</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">define_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_cb</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="o">=</span><span class="default_value">'viridis'</span></em>, <em class="sig-param"><span class="n">cb_label</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">f</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">'imshow'</span></em>, <em class="sig-param"><span class="n">is_pcc</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ytfast.PhasePlot" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper to yt.PhasePlot to use cache file to speed up
re-production of a figure with different aesthetic settings like
new colormap, different zlim, etc. For the use of yt.PhasePlot, check <a class="reference external" href="https://yt-project.org/doc/reference/api/yt.visualization.profile_plotter.html?highlight=phaseplot#yt.visualization.profile_plotter.PhasePlot">the
official documentation</a></p>
<p>The following Args are in addition to the parameters of yt.PhasePlot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zlims</strong> (<em>list_like</em>) – lims of z_fields</p></li>
<li><p><strong>force_redo</strong> (<em>bool</em>) – toggle always remake the figure</p></li>
<li><p><strong>define_field</strong> (<em>func</em>) – function to define a new field</p></li>
<li><p><strong>is_cb</strong> (<em>bool</em>) – toggle show colorbar (default: True)</p></li>
<li><p><strong>cb_label</strong> (<em>str</em>) – colorbar label (default: ‘’)</p></li>
<li><p><strong>f</strong> (<em>plt.figure</em>) – figure to plot on (default: None)</p></li>
<li><p><strong>ax</strong> (<em>plt.axis</em>) – axis to plot on (default: None)</p></li>
<li><p><strong>ret</strong> (<em>str</em>) – what to return (default: ‘imshow’). One of [‘imshow’, ‘data’]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.ytfast.ProfilePlot">
<code class="sig-prename descclassname">ramtools.ytfast.</code><code class="sig-name descname">ProfilePlot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_source</span></em>, <em class="sig-param"><span class="n">x_field</span></em>, <em class="sig-param"><span class="n">y_fields</span></em>, <em class="sig-param"><span class="n">weight_field</span><span class="o">=</span><span class="default_value">'gas', 'mass'</span></em>, <em class="sig-param"><span class="n">n_bins</span><span class="o">=</span><span class="default_value">64</span></em>, <em class="sig-param"><span class="n">accumulation</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">fractional</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plot_spec</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">x_log</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">y_log</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">xlims</span><span class="o">=</span><span class="default_value">[None, None]</span></em>, <em class="sig-param"><span class="n">force_redo</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">define_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">f</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">'plot'</span></em>, <em class="sig-param"><span class="n">mpl_kwargs</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ytfast.ProfilePlot" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper to yt.ProfilePlot to use cache file to speed up
re-production of a figure with different aesthetic settings. For the use
of yt.ProfilePlot, check <a class="reference external" href="https://yt-project.org/doc/reference/api/yt.visualization.profile_plotter.html?highlight=phaseplot#yt.visualization.profile_plotter.ProfilePlot">the official documentation</a></p>
<p>The following Args are in addition to the parameters of yt.ProfilePlot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xlims</strong> (<em>list_like</em>) – x limits</p></li>
<li><p><strong>force_redo</strong> (<em>bool</em>) – toggle always remake the figure</p></li>
<li><p><strong>define_field</strong> (<em>func</em>) – a function to define a new field.</p></li>
<li><p><strong>f</strong> (<em>plt.figure</em>) – figure to plot on (default: None)</p></li>
<li><p><strong>ax</strong> (<em>plt.axis</em>) – axis to plot on (default: None)</p></li>
<li><p><strong>ret</strong> (<em>str</em>) – what to return (default: ‘plot’). One of [‘plot’, ‘data’]</p></li>
<li><p><strong>mpl_kwargs</strong> – kwargs to plt.plot</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If ret == ‘plot’, return a tuple (f, ax)
If ret == ‘data’, return a tuple (x, y)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.ytfast.ProjectionPlot">
<code class="sig-prename descclassname">ramtools.ytfast.</code><code class="sig-name descname">ProjectionPlot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds</span></em>, <em class="sig-param"><span class="n">axis</span></em>, <em class="sig-param"><span class="n">fields</span></em>, <em class="sig-param"><span class="n">center</span><span class="o">=</span><span class="default_value">'c'</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">axes_unit</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">weight_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_level</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tag</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">force_redo</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ytfast.ProjectionPlot" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper to yt.ProjectionPlot to use cache file to speed up
re-production of a figure with different aesthetic settings like
new colormap, different zlim, overplotting sink particles, etc.
For the use of yt.ProjectionPlot, check <a class="reference external" href="https://yt-project.org/doc/reference/api/yt.visualization.plot_window.html#yt.visualization.plot_window.ProjectionPlot">the official documentation</a></p>
<p>The following Args are in addition to the parameters of yt.ProjectionPlot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>force_redo</strong> (<em>bool</em>) – toggle always remake the figure and write a new .h5
file no matter the .h5 exits or not.</p></li>
<li><p><strong>**kwargs</strong> – more kwargs passed to yt.ProjectionPlot</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A PWViewerMPL object containing the plot. See the official
documentation of YT for details.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ramtools.ytfast.SlicePlot">
<code class="sig-prename descclassname">ramtools.ytfast.</code><code class="sig-name descname">SlicePlot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds</span></em>, <em class="sig-param"><span class="n">normal</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fields</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">center</span><span class="o">=</span><span class="default_value">'c'</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">zlim</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tag</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">force_redo</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ramtools.ytfast.SlicePlot" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper to yt.SlicePlot to use cache file to speed up
re-production of a figure with different aesthetic settings like
new colormap, different zlim, overplotting sink particles, etc.
For the use of yt.SlicePlot, check <a class="reference external" href="https://yt-project.org/doc/reference/api/yt.visualization.plot_window.html#yt.visualization.plot_window.SlicePlot">the official documentation</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>force_redo</strong> (<em>bool</em>) – toggle always remake the figure and write a new .h5
file no matter the .h5 exits or not.</p></li>
<li><p><strong>**kwargs</strong> – more kwargs passed to yt.SlicePlot</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A PWViewerMPL object containing the plot. See the official
documentation of YT for details.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ramtools">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ramtools" title="Permalink to this headline">¶</a></h2>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ramtools package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-ramtools.amr2cube">ramtools.amr2cube module</a></li>
<li><a class="reference internal" href="#module-ramtools.cacherun">ramtools.cacherun module</a></li>
<li><a class="reference internal" href="#module-ramtools.cacherun_v1">ramtools.cacherun_v1 module</a></li>
<li><a class="reference internal" href="#module-ramtools.cacherunbase">ramtools.cacherunbase module</a></li>
<li><a class="reference internal" href="#module-ramtools.center">ramtools.center module</a></li>
<li><a class="reference internal" href="#module-ramtools.center2">ramtools.center2 module</a></li>
<li><a class="reference internal" href="#module-ramtools.cloudparams">ramtools.cloudparams module</a></li>
<li><a class="reference internal" href="#ramtools-cloudvals-module">ramtools.cloudvals module</a></li>
<li><a class="reference internal" href="#module-ramtools.dynamics">ramtools.dynamics module</a></li>
<li><a class="reference internal" href="#module-ramtools.imf">ramtools.imf module</a></li>
<li><a class="reference internal" href="#module-ramtools.luminosity">ramtools.luminosity module</a></li>
<li><a class="reference internal" href="#module-ramtools.plotutils">ramtools.plotutils module</a></li>
<li><a class="reference internal" href="#module-ramtools.radiation_module">ramtools.radiation_module module</a></li>
<li><a class="reference internal" href="#module-ramtools.ramplot">ramtools.ramplot module</a></li>
<li><a class="reference internal" href="#module-ramtools.ramses">ramtools.ramses module</a></li>
<li><a class="reference internal" href="#id1">ramtools.ramses module</a></li>
<li><a class="reference internal" href="#module-ramtools.ramsesbase">ramtools.ramsesbase module</a></li>
<li><a class="reference internal" href="#module-ramtools.to_skirt">ramtools.to_skirt module</a></li>
<li><a class="reference internal" href="#module-ramtools.units">ramtools.units module</a></li>
<li><a class="reference internal" href="#module-ramtools.utilities">ramtools.utilities module</a></li>
<li><a class="reference internal" href="#module-ramtools.yt_field_descrs">ramtools.yt_field_descrs module</a></li>
<li><a class="reference internal" href="#module-ramtools.ytfast">ramtools.ytfast module</a></li>
<li><a class="reference internal" href="#module-ramtools">Module contents</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ramtools.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
          <li><img src="_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
              <a href="index.html">ramtools 0.3 documentation</a> &#187;
              
          </li>
        <li class="nav-item nav-item-this"><a href="">ramtools package</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="search.html" method="get">
          <input placeholder="Quick search" aria-label="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; Copyright 2021, Chong-Chong He.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="">History and License</a> for more information.
    <br /><br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    Last updated on None.
    
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>

  </body>
</html>